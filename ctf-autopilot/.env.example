# CTF Compass - Environment Configuration
# Version: 2.0.0 (2025-12-26)
# Copy this file to .env and fill in the values
# NEVER commit .env to version control

# =============================================================================
# IMPORTANT: No login required in v2.0.0
# =============================================================================
# This version runs in single-user mode - no authentication needed.
# Simply open the Web UI and configure the Backend URL.

# =============================================================================
# DATABASE SETTINGS (Required)
# =============================================================================

POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=ctfautopilot
POSTGRES_PASSWORD=ctfautopilot
POSTGRES_DB=ctfautopilot

# =============================================================================
# REDIS SETTINGS
# =============================================================================

REDIS_HOST=redis
REDIS_PORT=6379
# REDIS_PASSWORD=  # Optional for production

# =============================================================================
# CORS SETTINGS (Important for cross-origin requests)
# =============================================================================

# Allowed origins for CORS. Formats:
#   - * (allow all - easiest for local deployment)
#   - CSV: http://192.168.1.100:3000,http://localhost:3000
#   - JSON: ["http://192.168.1.100:3000","http://localhost:3000"]
#
# IMPORTANT: Set this to your actual frontend URLs for production
CORS_ORIGINS=*

# =============================================================================
# AI SETTINGS (Optional - for AI-powered analysis)
# =============================================================================

# MegaLLM API - Get your key from: https://ai.megallm.io
# AI features are disabled if not set
MEGALLM_API_KEY=

# MegaLLM Model - Available options:
# Free tier (open-source, recommended):
#   - llama3.3-70b-instruct     ($0.12/M input, $0.30/M output) - Recommended
#   - openai-gpt-oss-20b        ($0.07/M input, $0.30/M output) - Cheapest
#   - alibaba-qwen3-32b         ($0.15/M input, $0.60/M output)
#   - deepseek-r1-distill-llama-70b ($0.75/M input, $0.99/M output) - Reasoning
# Paid tier:
#   - gpt-5, gpt-5-mini, claude-sonnet-4-5-20250929, gemini-2.5-pro
MEGALLM_MODEL=llama3.3-70b-instruct

# =============================================================================
# SANDBOX SETTINGS
# =============================================================================

# Maximum upload size in MB
MAX_UPLOAD_SIZE_MB=200

# Sandbox timeout per command in seconds
SANDBOX_TIMEOUT_SECONDS=60

# Sandbox memory limit
SANDBOX_MEMORY_LIMIT=512m

# Sandbox CPU limit (number of CPUs)
SANDBOX_CPU_LIMIT=1

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================

# Application secret key for internal use
# If not set, a random key will be generated on startup
# SECRET_KEY=

# Set to development for verbose logging (NEVER in production)
ENVIRONMENT=production

# Enable debug mode (NEVER in production)
DEBUG=false

# =============================================================================
# TLS SETTINGS (for production with HTTPS)
# =============================================================================

# Enable TLS (set to true for production with Nginx profile)
ENABLE_TLS=false

# Domain for TLS certificate
# TLS_DOMAIN=ctfautopilot.example.com

# Let's Encrypt email for certificate notifications
# LETSENCRYPT_EMAIL=admin@example.com

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Allowed file extensions for upload (comma-separated)
ALLOWED_EXTENSIONS=.txt,.py,.c,.cpp,.h,.java,.js,.json,.xml,.html,.css,.md,.pdf,.png,.jpg,.jpeg,.gif,.zip,.tar,.gz,.pcap,.pcapng,.elf,.exe,.dll,.so,.bin

# Rate limiting (requests per minute)
RATE_LIMIT_UPLOADS=10
RATE_LIMIT_API=100
